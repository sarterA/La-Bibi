<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1> Mi Perfil</h1>
    <button id="logout-btn">Cerrar Sesión</button>
  </header>

  <main>
    <h2>Gestión de Libros</h2>

    <div class="acciones" id="zona-add">
  	<h3>Añadir libro</h3>

 	<input type="text" id="buscar-libro" placeholder="Escriba el título del libro" autocomplete="off">
    	<ul id="sugerencias" style="list-style: none; padding-left:0;"></ul>

    	<label for="categoria-select">Categoría(requerida):</label>
    	<select id="categoria-select"><option value="">-- Seleccione --</option></select>
	
	<label for="precio-input">Precio (opcional):</label>
  	<input type="number" id="precio-input" placeholder="Ej. 12.50" step="0.01" min="0">

 	<div style="margin-top:.5rem;">
    	  <button id="btn-add-selected" type="button" disabled>Añadir libro seleccionado</button>
    	  <button id="btn-show-new" type="button" style="display:none;">➕ Si no está el libro, agréguelo a la biblioteca</button>
 	</div>
   
     <!-- Formulario para crear nuevo libro (oculto hasta que se pulse btn-show-new) -->

  	<div id="form-nuevo" style="display:none; margin-top:1rem; border:1px solid #ddd; padding:8px;">
    	<h4>Nuevo Libro</h4>
   	  <input type="text" id="nuevo-titulo" placeholder="Título" required>
    	  <input type="text" id="nuevo-autor" placeholder="Autor (opcional)">
   	  <label for="nueva-categoria">Categoría:</label>
    	  <select id="nueva-categoria"><option value="">-- Seleccione --</option></select>
    	  <label for="nuevo-precio">Precio (opcional):</label>
    	  <input type="number" id="nuevo-precio" step="0.01" min="0">

    	<div style="margin-top:.5rem;">
     	  <button id="guardar-nuevo-btn" type="button">Guardar libro y añadir</button>
     	  <button id="cancelar-nuevo-btn" type="button">Cancelar</button>
   	</div>
        </div>
        </div>


    <div class="acciones">
      <h3>Eliminar libro</h3>
      <input type="number" id="id-libro-del" placeholder="ID del libro (Items)">
      <button id="delete-book-btn">Eliminar libro</button>
    </div>

    <h2>Mis Libros</h2>
    <section id="mis-libros" class="grid"></section>
  </main>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="auth.js"></script>
</body>
</html>
